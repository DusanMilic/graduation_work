--
-- PostgreSQL database dump
--

-- Dumped from database version 11.1
-- Dumped by pg_dump version 11.1

-- Started on 2019-09-16 17:24:52

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 641 (class 1247 OID 517876)
-- Name: appointment_status; Type: TYPE; Schema: public; Owner: postgres
--

CREATE TYPE public.appointment_status AS ENUM (
    'pending',
    'approved',
    'declined'
);


ALTER TYPE public.appointment_status OWNER TO postgres;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 209 (class 1259 OID 517847)
-- Name: appointments; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.appointments (
    "idAppointment" integer NOT NULL,
    "idVet" integer NOT NULL,
    "idOwner" integer NOT NULL,
    "idPet" integer NOT NULL,
    "time" date,
    status public.appointment_status NOT NULL
);


ALTER TABLE public.appointments OWNER TO postgres;

--
-- TOC entry 208 (class 1259 OID 517845)
-- Name: appointments_idAppointment_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."appointments_idAppointment_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."appointments_idAppointment_seq" OWNER TO postgres;

--
-- TOC entry 2910 (class 0 OID 0)
-- Dependencies: 208
-- Name: appointments_idAppointment_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."appointments_idAppointment_seq" OWNED BY public.appointments."idAppointment";


--
-- TOC entry 205 (class 1259 OID 517803)
-- Name: breeds; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.breeds (
    "idBreed" integer NOT NULL,
    "idSpecie" integer NOT NULL,
    name character varying NOT NULL
);


ALTER TABLE public.breeds OWNER TO postgres;

--
-- TOC entry 204 (class 1259 OID 517801)
-- Name: breeds_idBreed_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."breeds_idBreed_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."breeds_idBreed_seq" OWNER TO postgres;

--
-- TOC entry 2911 (class 0 OID 0)
-- Dependencies: 204
-- Name: breeds_idBreed_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."breeds_idBreed_seq" OWNED BY public.breeds."idBreed";


--
-- TOC entry 211 (class 1259 OID 517885)
-- Name: medical_files; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.medical_files (
    "idMedicalFile" integer NOT NULL,
    "idPet" integer NOT NULL,
    "idVet" integer NOT NULL,
    stats character varying,
    vaccination character varying,
    medicine character varying,
    lab_results character varying,
    report character varying
);


ALTER TABLE public.medical_files OWNER TO postgres;

--
-- TOC entry 210 (class 1259 OID 517883)
-- Name: medical_files_idMedicalFile_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."medical_files_idMedicalFile_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."medical_files_idMedicalFile_seq" OWNER TO postgres;

--
-- TOC entry 2912 (class 0 OID 0)
-- Dependencies: 210
-- Name: medical_files_idMedicalFile_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."medical_files_idMedicalFile_seq" OWNED BY public.medical_files."idMedicalFile";


--
-- TOC entry 198 (class 1259 OID 517751)
-- Name: owners; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.owners (
    "idOwner" integer NOT NULL,
    name character varying NOT NULL,
    lastname character varying NOT NULL
);


ALTER TABLE public.owners OWNER TO postgres;

--
-- TOC entry 201 (class 1259 OID 517779)
-- Name: pets; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.pets (
    "idPet" integer NOT NULL,
    owner integer NOT NULL,
    name character varying NOT NULL,
    "feeding habits" character varying,
    alergies character varying,
    age integer,
    weight numeric,
    "idSpecie" integer NOT NULL,
    "idBreed" integer NOT NULL
);


ALTER TABLE public.pets OWNER TO postgres;

--
-- TOC entry 200 (class 1259 OID 517777)
-- Name: pets_idPet_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."pets_idPet_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."pets_idPet_seq" OWNER TO postgres;

--
-- TOC entry 2913 (class 0 OID 0)
-- Dependencies: 200
-- Name: pets_idPet_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."pets_idPet_seq" OWNED BY public.pets."idPet";


--
-- TOC entry 207 (class 1259 OID 517831)
-- Name: photos; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.photos (
    "idPhoto" integer NOT NULL,
    "idPet" integer NOT NULL,
    photo bytea NOT NULL
);


ALTER TABLE public.photos OWNER TO postgres;

--
-- TOC entry 206 (class 1259 OID 517829)
-- Name: photos_idPhoto_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."photos_idPhoto_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."photos_idPhoto_seq" OWNER TO postgres;

--
-- TOC entry 2914 (class 0 OID 0)
-- Dependencies: 206
-- Name: photos_idPhoto_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."photos_idPhoto_seq" OWNED BY public.photos."idPhoto";


--
-- TOC entry 203 (class 1259 OID 517790)
-- Name: species; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.species (
    "idSpecie" integer NOT NULL,
    name character varying NOT NULL
);


ALTER TABLE public.species OWNER TO postgres;

--
-- TOC entry 202 (class 1259 OID 517788)
-- Name: species_idSpecie_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."species_idSpecie_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."species_idSpecie_seq" OWNER TO postgres;

--
-- TOC entry 2915 (class 0 OID 0)
-- Dependencies: 202
-- Name: species_idSpecie_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."species_idSpecie_seq" OWNED BY public.species."idSpecie";


--
-- TOC entry 197 (class 1259 OID 517738)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    "idUser" integer NOT NULL,
    username character varying NOT NULL,
    password character varying NOT NULL,
    email character varying NOT NULL
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 196 (class 1259 OID 517736)
-- Name: users_idUser_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."users_idUser_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."users_idUser_seq" OWNER TO postgres;

--
-- TOC entry 2916 (class 0 OID 0)
-- Dependencies: 196
-- Name: users_idUser_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."users_idUser_seq" OWNED BY public.users."idUser";


--
-- TOC entry 199 (class 1259 OID 517764)
-- Name: vet; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.vet (
    "idVet" integer NOT NULL,
    name character varying NOT NULL,
    lastname character varying NOT NULL
);


ALTER TABLE public.vet OWNER TO postgres;

--
-- TOC entry 2745 (class 2604 OID 517850)
-- Name: appointments idAppointment; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.appointments ALTER COLUMN "idAppointment" SET DEFAULT nextval('public."appointments_idAppointment_seq"'::regclass);


--
-- TOC entry 2743 (class 2604 OID 517806)
-- Name: breeds idBreed; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.breeds ALTER COLUMN "idBreed" SET DEFAULT nextval('public."breeds_idBreed_seq"'::regclass);


--
-- TOC entry 2746 (class 2604 OID 517888)
-- Name: medical_files idMedicalFile; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.medical_files ALTER COLUMN "idMedicalFile" SET DEFAULT nextval('public."medical_files_idMedicalFile_seq"'::regclass);


--
-- TOC entry 2741 (class 2604 OID 517782)
-- Name: pets idPet; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.pets ALTER COLUMN "idPet" SET DEFAULT nextval('public."pets_idPet_seq"'::regclass);


--
-- TOC entry 2744 (class 2604 OID 517834)
-- Name: photos idPhoto; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.photos ALTER COLUMN "idPhoto" SET DEFAULT nextval('public."photos_idPhoto_seq"'::regclass);


--
-- TOC entry 2742 (class 2604 OID 517793)
-- Name: species idSpecie; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.species ALTER COLUMN "idSpecie" SET DEFAULT nextval('public."species_idSpecie_seq"'::regclass);


--
-- TOC entry 2740 (class 2604 OID 517741)
-- Name: users idUser; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users ALTER COLUMN "idUser" SET DEFAULT nextval('public."users_idUser_seq"'::regclass);


--
-- TOC entry 2764 (class 2606 OID 517813)
-- Name: breeds BreedNameUniqueConstraint; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.breeds
    ADD CONSTRAINT "BreedNameUniqueConstraint" UNIQUE (name) INCLUDE (name);


--
-- TOC entry 2760 (class 2606 OID 517800)
-- Name: species Species_Name_Unique_Constraint; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.species
    ADD CONSTRAINT "Species_Name_Unique_Constraint" UNIQUE (name) INCLUDE (name);


--
-- TOC entry 2770 (class 2606 OID 517852)
-- Name: appointments appointments_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.appointments
    ADD CONSTRAINT appointments_pkey PRIMARY KEY ("idAppointment");


--
-- TOC entry 2766 (class 2606 OID 517811)
-- Name: breeds breeds_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.breeds
    ADD CONSTRAINT breeds_pkey PRIMARY KEY ("idBreed");


--
-- TOC entry 2748 (class 2606 OID 517748)
-- Name: users emailUniqueConstraint; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT "emailUniqueConstraint" UNIQUE (email) INCLUDE (email);


--
-- TOC entry 2772 (class 2606 OID 517893)
-- Name: medical_files medical_files_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.medical_files
    ADD CONSTRAINT medical_files_pkey PRIMARY KEY ("idMedicalFile");


--
-- TOC entry 2754 (class 2606 OID 517758)
-- Name: owners owners_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.owners
    ADD CONSTRAINT owners_pkey PRIMARY KEY ("idOwner");


--
-- TOC entry 2758 (class 2606 OID 517787)
-- Name: pets pets_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.pets
    ADD CONSTRAINT pets_pkey PRIMARY KEY ("idPet");


--
-- TOC entry 2768 (class 2606 OID 517839)
-- Name: photos photos_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.photos
    ADD CONSTRAINT photos_pkey PRIMARY KEY ("idPhoto");


--
-- TOC entry 2762 (class 2606 OID 517798)
-- Name: species species_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.species
    ADD CONSTRAINT species_pkey PRIMARY KEY ("idSpecie");


--
-- TOC entry 2750 (class 2606 OID 517750)
-- Name: users usernameUniqueConstraint; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT "usernameUniqueConstraint" UNIQUE (username) INCLUDE (username);


--
-- TOC entry 2752 (class 2606 OID 517746)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY ("idUser");


--
-- TOC entry 2756 (class 2606 OID 517771)
-- Name: vet vet_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.vet
    ADD CONSTRAINT vet_pkey PRIMARY KEY ("idVet");


--
-- TOC entry 2775 (class 2606 OID 517919)
-- Name: pets breed_foreing_key; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.pets
    ADD CONSTRAINT breed_foreing_key FOREIGN KEY ("idBreed") REFERENCES public.breeds("idBreed") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2773 (class 2606 OID 517759)
-- Name: owners idOwner; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.owners
    ADD CONSTRAINT "idOwner" FOREIGN KEY ("idOwner") REFERENCES public.users("idUser") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2779 (class 2606 OID 517904)
-- Name: appointments idOwner_foreign_key; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.appointments
    ADD CONSTRAINT "idOwner_foreign_key" FOREIGN KEY ("idOwner") REFERENCES public.owners("idOwner") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2782 (class 2606 OID 517894)
-- Name: medical_files idPet_foreign_key; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.medical_files
    ADD CONSTRAINT "idPet_foreign_key" FOREIGN KEY ("idPet") REFERENCES public.pets("idPet") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2780 (class 2606 OID 517909)
-- Name: appointments idPet_foreign_key; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.appointments
    ADD CONSTRAINT "idPet_foreign_key" FOREIGN KEY ("idPet") REFERENCES public.pets("idPet") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2778 (class 2606 OID 517929)
-- Name: photos idPet_foreing_key; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.photos
    ADD CONSTRAINT "idPet_foreing_key" FOREIGN KEY ("idPet") REFERENCES public.pets("idPet") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2783 (class 2606 OID 517899)
-- Name: medical_files idVet_foreign_key; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.medical_files
    ADD CONSTRAINT "idVet_foreign_key" FOREIGN KEY ("idVet") REFERENCES public.vet("idVet") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2781 (class 2606 OID 517914)
-- Name: appointments idVet_foreign_key; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.appointments
    ADD CONSTRAINT "idVet_foreign_key" FOREIGN KEY ("idVet") REFERENCES public.vet("idVet") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2774 (class 2606 OID 517939)
-- Name: vet idVet_foreign_key; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.vet
    ADD CONSTRAINT "idVet_foreign_key" FOREIGN KEY ("idVet") REFERENCES public.users("idUser") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2776 (class 2606 OID 517924)
-- Name: pets specie_foreign_key; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.pets
    ADD CONSTRAINT specie_foreign_key FOREIGN KEY ("idSpecie") REFERENCES public.species("idSpecie") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2777 (class 2606 OID 517934)
-- Name: breeds specie_foreign_key; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.breeds
    ADD CONSTRAINT specie_foreign_key FOREIGN KEY ("idSpecie") REFERENCES public.species("idSpecie") ON UPDATE CASCADE ON DELETE CASCADE;


-- Completed on 2019-09-16 17:24:52

--
-- PostgreSQL database dump complete
--

